<!DOCTYPE html>
<html>
<head>
	<title>Canvace</title>
	<link href="http://fonts.googleapis.com/css?family=Titillium+Web:300" rel="stylesheet" type="text/css">
	<link href="/css/screen.css" rel="stylesheet" type="text/css" media="screen" />
	<link href="/pygments.css" rel="stylesheet" type="text/css" media="all" />
	<link href="/favicon.ico" rel="icon" type="image/vnd.microsoft.icon" />
</head>
<body>

<header class="header">
	<div class="inner">
		<a class="logo" href="#"><img src="/media/logo.png" alt="Canvace" /></a>
		<ul class="menu">
			<li><a href="/">Home</a></li>
			<li><a href="/tutorials/tutorial.html">Docs</a></li>
			<li><a href="http://api.canvace.com/">API</a></li>
		</ul>
	</div>
</header>

<a href="https://github.com/canvace"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>

<div class="contents">
<h1 id='canvace_effects'>Canvace effects</h1>

<p>It is possible to &#8220;animate&#8221; the stage by enabling some special effects. Effects must be first instantiated and configured, and then added to the stage renderer.</p>
<div class='highlight'><pre><code class='javascript'>    <span class='kd'>var</span> <span class='nx'>renderer</span> <span class='o'>=</span> <span class='nx'>renderLoop</span><span class='p'>.</span><span class='nx'>getRenderer</span><span class='p'>();</span>
    <span class='kd'>var</span> <span class='nx'>effect</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Canvace</span><span class='p'>.</span><span class='nx'>RumbleEffect</span><span class='p'>(</span><span class='mi'>100</span><span class='p'>);</span>
    <span class='nx'>renderer</span><span class='p'>.</span><span class='nx'>addEffect</span><span class='p'>(</span><span class='nx'>effect</span><span class='p'>);</span>
</code></pre></div>
<p>This is an example usage. The <code>Canvace.StageRenderer</code> object is obtained from the RenderLoop, initialized and started at the beginning of the game. Note that as soon as the effect is added to the renderer, it is immediately visible at the next rendering iteration. Furthermore, the same effect can be added more than once to the renderer. Canvace provides two effects.</p>

<h3 id='rumble_effect'>Rumble effect</h3>

<p>This effects shakes the viewport, simulating rumbling. In the <code>Canvace.RumbleEffect</code> constructor you can set up the duration of the shaking, expressed in frames, and some additional options controlling the direction and the amplitude of the shaking effect.</p>

<h3 id='debug_effect'>Debug effect</h3>

<p>This effect is useful for debugging the game during the development. It may be configured to superimpose a variety of information to the game stage. Among those:</p>

<ul>
<li>entities&#8217; bounding boxes (only valid for entities with physics enabled);</li>

<li>entities&#8217; velocity, uniform velocity, and acceleration vectors, again only when the physics is enabled;</li>

<li>solid map: highlights the solid tiles with the specified colour.</li>
</ul>

<p>This is how, for example, the debug effect is instantiated in the tutorial game:</p>
<div class='highlight'><pre><code class='javascript'>    <span class='kd'>var</span> <span class='nx'>debug</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>Canvace</span><span class='p'>.</span><span class='nx'>DebugEffect</span><span class='p'>(</span><span class='nx'>stage</span><span class='p'>,</span> <span class='p'>{</span>
        <span class='nx'>drawBoundingBoxes</span><span class='o'>:</span> <span class='kc'>true</span><span class='p'>,</span>
        <span class='nx'>drawVelocity</span><span class='o'>:</span> <span class='kc'>true</span>
    <span class='p'>});</span>
</code></pre></div>
<p>The debug effect doesn&#8217;t have a fixed duration: once added to the renderer, if not explicitly stopped it is displayed for the entire duration of the stage. However, it can be enabled and disabled using the <code>toggle()</code> method. In the game, the debug effect is alternatively toggled on and off by pressing the space bar.</p>
<hr />
</div>

<footer class="footer">
	<div class="inner">
		Footer here
	</div>
</footer>

</body>
</html>
